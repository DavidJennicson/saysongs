class TamilConverter {
  static final Map<String, String> baminiDict = {
    "p":"ி",
    "P":"ீ",
    "P":"ீ",
    "h":"ா",
    "1":"1",
    "2":"2",
    "3":"3",
    "4":"4",
    "5":"5",
    "6":"6",
    "7":"7",
    "8":"8",
    "9":"9",
    "0":"0",
    "-":"-",
    "~":"~",
    "!":"!",
    "@":"@",
    "(":"(",
    ")":")",
    "_":"_",
    "+":"+",
    "{":"{",
    "}":"}",
    "|":"|",
    "?":"?",
    "/":"ஃ",
    ".":".",
    ">":",",
    ";":";",
    "'":"'",
    ":":":",
    "up":"ரி",
    "uP":"ரீ",
    "u;":"ர்",
    "u;":"ர்",
    "f;":"க்",
    "f":"க",
    "F":"கு",
    r"$":"கூ",
    r"$":"கூ",
    "F":"கு",
    r"$":"கூ",
    "nf":"கெ",
    "Nf":"கே",
    "if":"கை",
    "nfh":"கொ",
    "Nfh":"கோ",
    "nfs":"கௌ",
    "q;":"ங்",
    "q":"ங",
    "*":"ஙு",
    "*":"ஙூ",
    "*":"ஙூ",
    "*":"ஙூ",
    "*":"ஙு",
    "*":"ஙூ",
    "nq":"ஙெ",
    "Nq":"ஙே",
    "iq":"ஙை",
    "nqh":"ஙொ",
    "Nqh":"ஙோ",
    "nqs":"ஙௌ",
    "r;":"ச்",
    "r":"ச",
    "R":"சு",
    "R+":"சூ",
    "R+":"சூ",
    "R":"சு",
    "R+":"சூ",
    "nr":"செ",
    "Nr":"சே",
    "ir":"சை",
    "nrs":"சௌ",
    "Nrh":"சோ",
    "nrh":"சொ",
    "[;":"ஜ்",
    "[":"ஜ",
    "[{":"ஜு",
    "[_":"ஜூ",
    "[{":"ஜு",
    "[_":"ஜூ",
    "n[":"ஜெ",
    "N[":"ஜே",
    "i[":"ஜை",
    "n[h":"ஜொ",
    "N[h":"ஜோ",
    "n[s":"ஜௌ",
    "Q;":"ஞ்",
    "Q":"ஞ",
    "*":"ஞு",
    "*":"ஞூ",
    "*":"ஞூ",
    "*":"ஞூ",
    "*":"ஞு",
    "*":"ஞூ",
    "nQ":"ஞெ",
    "NQ":"ஞே",
    "iQ":"ஞை",
    "nQh":"ஞொ",
    "NQh":"ஞோ",
    "nQs":"ஞௌ",
    "l;":"ட்",
    "l":"ட",
    "b":"டி",
    "B":"டீ",
    "L":"டு",
    "^":"டூ",
    "^":"டூ",
    "L":"டு",
    "^":"டூ",
    "nl":"டெ",
    "Nl":"டே",
    "il":"டை",
    "nlh":"டொ",
    "nls":"டௌ",
    "Nlh":"டோ",
    "z;":"ண்",
    "z":"ண",
    "Z":"ணு",
    "Z}":"ணூ",
    "Z}":"ணூ",
    "Z":"ணு",
    "Z}":"ணூ",
    "nz":"ணெ",
    "Nz":"ணே",
    "iz":"ணை",
    "nzh":"ணொ",
    "Nzh":"ணோ",
    "nzs":"ணௌ",
    "j;":"த்",
    "j":"த",
    "J":"து",
    "J}":"தூ",
    "J}":"தூ",
    "J":"து",
    "J}":"தூ",
    "nj":"தெ",
    "Nj":"தே",
    "ij":"தை",
    "njh":"தொ",
    "Njh":"தோ",
    "njs":"தௌ",
    "e;":"ந்",
    "e":"ந",
    "E":"நு",
    "E}":"நூ",
    "E}":"நூ",
    "E":"நு",
    "E}":"நூ",
    "ne":"நெ",
    "Ne":"நே",
    "ie":"நை",
    "neh":"நொ",
    "Neh":"நோ",
    "nes":"நௌ",
    "d;":"ன்",
    "d":"ன",
    "D":"னு",
    "D}":"னூ",
    "D}":"னூ",
    "D":"னு",
    "D}":"னூ",
    "nd":"னெ",
    "Nd":"னே",
    "id":"னை",
    "ndh":"னொ",
    "Ndh":"னோ",
    "nds":"னௌ",
    "g;":"ப்",
    "g":"ப",
    "G":"பு",
    "G+":"பூ",
    "G+":"பூ",
    "G":"பு",
    "G+":"பூ",
    "ng":"பெ",
    "Ng":"பே",
    "ig":"பை",
    "ngh":"பொ",
    "Ngh":"போ",
    "ngs":"பௌ",
    "k;":"ம்",
    "k":"ம",
    "K":"மு",
    "%":"மூ",
    "%":"மூ",
    "K":"மு",
    "%":"மூ",
    "nk":"மெ",
    "Nk":"மே",
    "ik":"மை",
    "nkh":"மொ",
    "Nkh":"மோ",
    "nks":"மௌ",
    "a;":"ய்",
    "a":"ய",
    "A":"யு",
    "A+":"யூ",
    "A+":"யூ",
    "A":"யு",
    "A+":"யூ",
    "na":"யெ",
    "Na":"யே",
    "ia":"யை",
    "nah":"யொ",
    "Nah":"யோ",
    "nas":"யௌ",
    "u;":"ர்",
    "u":"ர",
    "U":"ரு",
    "&":"ரூ",
    "&":"ரூ",
    "U":"ரு",
    "&":"ரூ",
    "nu":"ரெ",
    "Nu":"ரே",
    "iu":"ரை",
    "nuh":"ரொ",
    "Nuh":"ரோ",
    "nus":"ரௌ",
    "y;":"ல்",
    "y":"ல",
    "Y":"லு",
    "Y}":"லூ",
    "Y}":"லூ",
    "Y":"லு",
    "Y}":"லூ",
    "ny":"லெ",
    "Ny":"லே",
    "iy":"லை",
    "nyh":"லொ",
    "Nyh":"லோ",
    "nys":"லௌ",
    "s;":"ள்",
    "s":"ள",
    "S":"ளு",
    "Sh":"ளூ",
    "S":"ளு",
    "Sh":"ளூ",
    "ns":"ளெ",
    "Ns":"ளே",
    "is":"ளை",
    "nsh":"ளொ",
    "Nsh":"ளோ",
    "nss":"ளௌ",
    "t;":"வ்",
    "t":"வ",
    "T":"வு",
    "T+":"வூ",
    "T+":"வூ",
    "T":"வு",
    "T+":"வூ",
    "nt":"வெ",
    "Nt":"வே",
    "it":"வை",
    "nth":"வொ",
    "Nth":"வோ",
    "nts":"வௌ",
    "o;":"ழ்",
    "o":"ழ",
    "O":"ழு",
    "*":"ழூ",
    "*":"ழூ",
    "O":"ழு",
    "*":"ழூ",
    "no":"ழெ",
    "No":"ழே",
    "io":"ழை",
    "noh":"ழொ",
    "Noh":"ழோ",
    "nos":"ழௌ",
    "w;":"ற்",
    "w":"ற",
    "W":"று",
    "W}":"றூ",
    "W}":"றூ",
    "W":"று",
    "W}":"றூ",
    "nw":"றெ",
    "Nw":"றே",
    "iw":"றை",
    "nws":"றௌ",
    "Nwh":"றோ",
    "nwh":"றொ",
    "`;":"ஹ்",
    "`":"ஹ",
    "{`":"ஹு",
    "`_":"ஹூ",
    "n`":"ஹெ",
    "N`":"ஹே",
    "i`":"ஹை",
    "n`h":"ஹொ",
    "N`h":"ஹோ",
    "n`s":"ஹௌ",
    "n\s":"ஷௌ",
    "N\h":"ஷோ",
    "n\h":"ஷொ",
    "\;":"ஷ்",
    "\\":"ஷை" ,
    "{":"ஷு",
    "\_":"ஷூ",
    "n\\":"ஷெ",
    "N\\":"ஷே",
    "i\\":"ஷை",
    "n\h":"ஷொ",
    "N\h":"ஷோ",
    "n\s":"ஷௌ",
    "];":"ஸ்",
    "]":"ஸ",
    "]{":"ஸு",
    "]_":"ஸூ",
    "N]":"ஸே",
    "n]":"ஸெ",
    "i]":"ஸை",
    "n]h":"ஸொ",
    "N]h":"ஸோ",
    "n]s":"ஸௌ",
    "];uP":"ஸ்ரீ",
    "m":"அ",
    "M":"ஆ",
    "M":"ஆ",
    ",":"இ",
    "<":"ஈ",
    "<":"ஈ",
    "c":"உ",
    "C":"ஊ",
    "C":"ஊ",
    "v":"எ",
    "V":"ஏ",
    "V":"ஏ",
    "I":"ஐ",
    "x":"ஒ",
    "X":"ஓ",
    "X":"ஓ",
    "xs":"ஔ",
    "xs;":"ஒள்",
    "xsh":"ஒளா",
    "xsp":"ஒளி",
    "xsP":"ஒளீ",
    "xsP":"ஒளீ",
    "xS":"ஒளு",
    "xSh":"ஒளூ",
    "nfs;":"கெள்",
    "nfsh":"கெளா",
    "nfsp":"கெளி",
    "nfsP":"கெளீ",
    "nfsP":"கெளீ",
    "nfS":"கெளு",
    "nqs;":"ஙெள்",
    "nqsh":"ஙெளா",
    "nqsp":"ஙெளி",
    "nqsP":"ஙெளீ",
    "nqsP":"ஙெளீ",
    "nqS":"ஙெளு",
    "nqSh":"ஙெளூ",
    "nrs;":"செள்",
    "nrsh":"செளா",
    "nrsp":"செளி",
    "nrsP":"செளீ",
    "nrsP":"செளீ",
    "nrS":"செளு",
    "nrSh":"செளூ",
    "n[s;":"ஜெள்",
    "n[sh":"ஜெளா",
    "n[sp":"ஜெளி",
    "n[sP":"ஜெளீ",
    "n[sP":"ஜெளீ",
    "n[S":"ஜெளு",
    "n[Sh":"ஜெளூ",
    "nQs;":"ஞெள்",
    "nQsh":"ஞெளா",
    "nQsp":"ஞெளி",
    "nQsP":"ஞெளீ",
    "nQsP":"ஞெளீ",
    "nQS":"ஞெளு",
    "nQSh":"ஞெளூ",
    "nls;":"டெள்",
    "nlsh":"டெளா",
    "nlsp":"டெளி",
    "nlsP":"டெளீ",
    "nlsP":"டெளீ",
    "nlS":"டெளு",
    "nlSh":"டெளூ",
    "nzs;":"ணெள்",
    "nzsh":"ணெளா",
    "nzsp":"ணெளி",
    "nzsP":"ணெளீ",
    "nzsP":"ணெளீ",
    "nzS":"ணெளு",
    "nzSh":"ணெளூ",
    "njs;":"தெள்",
    "njsh":"தெளா",
    "njsp":"தெளி",
    "njsP":"தெளீ",
    "njsP":"தெளீ",
    "njS":"தெளு",
    "njSh":"தெளூ",
    "nes;":"நெள்",
    "nesh":"நெளா",
    "nesp":"நெளி",
    "nesP":"நெளீ",
    "nesP":"நெளீ",
    "neS":"நெளு",
    "neSh":"நெளூ",
    "nds;":"னெள்",
    "ndsh":"னெளா",
    "ndsp":"னெளி",
    "ndsP":"னெளீ",
    "ndsP":"னெளீ",
    "ndS":"னெளு",
    "ndSh":"னெளூ",
    "ngs;":"பெள்",
    "ngsh":"பெளா",
    "ngsp":"பெளி",
    "ngsP":"பெளீ",
    "ngsP":"பெளீ",
    "ngS":"பெளு",
    "ngSh":"பெளூ",
    "nks;":"மெள்",
    "nksh":"மெளா",
    "nksp":"மெளி",
    "nksP":"மெளீ",
    "nksP":"மெளீ",
    "nkS":"மெளு",
    "nkSh":"மெளூ",
    "nas;":"யெள்",
    "nash":"யெளா",
    "nasp":"யெளி",
    "nasP":"யெளீ",
    "nasP":"யெளீ",
    "naS":"யெளு",
    "naSh":"யெளூ",
    "nus;":"ரெள்",
    "nush":"ரெளா",
    "nusp":"ரெளி",
    "nusP":"ரெளீ",
    "nusP":"ரெளீ",
    "nuS":"ரெளு",
    "nuSh":"ரெளூ",
    "nys;":"லெள்",
    "nysh":"லெளா",
    "nysp":"லெளி",
    "nysP":"லெளீ",
    "nysP":"லெளீ",
    "nyS":"லெளு",
    "nySh":"லெளூ",
    "nss;":"ளெள்",
    "nssh":"ளெளா",
    "nssp":"ளெளி",
    "nssP":"ளெளீ",
    "nssP":"ளெளீ",
    "nsS":"ளெளு",
    "nsSh":"ளெளூ",
    "nts;":"வெள்",
    "ntsh":"வெளா",
    "ntsp":"வெளி",
    "ntsP":"வெளீ",
    "ntsP":"வெளீ",
    "ntS":"வெளு",
    "ntSh":"வெளூ",
    "nos;":"ழெள்",
    "nosh":"ழெளா",
    "nosp":"ழெளி",
    "nosP":"ழெளீ",
    "nosP":"ழெளீ",
    "noS":"ழெளு",
    "noSh":"ழெளூ",
    "nws;":"றெள்",
    "nwsh":"றெளா",
    "nwsp":"றெளி",
    "nwsP":"றெளீ",
    "nwsP":"றெளீ",
    "nwS":"றெளு",
    "nwSh":"றெளூ",
    "n`s;":"ஹெள்",
    "n`sh":"ஹெளா",
    "n`sp":"ஹெளி",
    "n`sP":"ஹெளீ",
    "n`sP":"ஹெளீ",
    "n`S":"ஹெளு",
    "n`Sh":"ஹெளூ",
    "n\s;":"ஷெள்",
    "n\sh":"ஷெளா",
    "n\sp":"ஷெளி",
    "n\sP":"ஷெளீ",
    "n\sP":"ஷெளீ",
    "n\S":"ஷெளு",
    "n\Sh":"ஷெளூ",
    "n]s;":"ஸெள்",
    "n]sh":"ஸெளா",
    "n]sp":"ஸெளி",
    "n]sP":"ஸெளீ",
    "n]sP":"ஸெளீ",
    "n]S":"ஸெளு",
    "n]Sh":"ஸெளூ",
    "nfu;":"கெர்",
    "nfup":"கெரி",
    "nfuP":"கெரீ",
    "nfuP":"கெரீ",
    "nqu;":"ஙெர்",
    "nqup":"ஙெரி",
    "nquP":"ஙெரீ",
    "nquP":"ஙெரீ",
    "nru;":"செர்",
    "nrup":"செரி",
    "nruP":"செரீ",
    "nruP":"செரீ",
    "n[u;":"ஜெர்",
    "n[up":"ஜெரி",
    "n[uP":"ஜெரீ",
    "n[uP":"ஜெரீ",
    "nQu;":"ஞெர்",
    "nQup":"ஞெரி",
    "nQuP":"ஞெரீ",
    "nQuP":"ஞெரீ",
    "nlu;":"டெர்",
    "nlup":"டெரி",
    "nluP":"டெரீ",
    "nluP":"டெரீ",
    "nzu;":"ணெர்",
    "nzup":"ணெரி",
    "nzuP":"ணெரீ",
    "nzuP":"ணெரீ",
    "nju;":"தெர்",
    "njup":"தெரி",
    "njuP":"தெரீ",
    "njuP":"தெரீ",
    "neu;":"நெர்",
    "neup":"நெரி",
    "neuP":"நெரீ",
    "neuP":"நெரீ",
    "ndu;":"னெர்",
    "ndup":"னெரி",
    "nduP":"னெரீ",
    "nduP":"னெரீ",
    "ngu;":"பெர்",
    "ngup":"பெரி",
    "nguP":"பெரீ",
    "nguP":"பெரீ",
    "nku;":"மெர்",
    "nkup":"மெரி",
    "nkuP":"மெரீ",
    "nkuP":"மெரீ",
    "nau;":"யெர்",
    "naup":"யெரி",
    "nauP":"யெரீ",
    "nuu;":"ரெர்",
    "nuup":"ரெரி",
    "nuuP":"ரெரீ",
    "nuuP":"ரெரீ",
    "nyu;":"லெர்",
    "nyup":"லெரி",
    "nyuP":"லெரீ",
    "nyuP":"லெரீ",
    "nsu;":"ளெர்",
    "nsup":"ளெரி",
    "nsuP":"ளெரீ",
    "nsuP":"ளெரீ",
    "ntu;":"வெர்",
    "ntup":"வெரி",
    "ntuP":"வெரீ",
    "ntuP":"வெரீ",
    "nou;":"ழெர்",
    "noup":"ழெரி",
    "nouP":"ழெரீ",
    "nouP":"ழெரீ",
    "nwu;":"றெர்",
    "nwup":"றெரி",
    "nwuP":"றெரீ",
    "nwuP":"றெரீ",
    "n`u;":"ஹெர்",
    "n`up":"ஹெரி",
    "n`uP":"ஹெரீ",
    "n`uP":"ஹெரீ",
    "n\\u;":"ஷெர்",
    "n\\up":"ஷெரி",
    "n\\uP":"ஷெரீ",
    "n\\uP":"ஷெரீ",
    "n]u;":"ஸெர்",
    "n]up":"ஸெரி",
    "n]uP":"ஸெரீ",
    "n]uP":"ஸெரீ",
    "Nfu;":"கேர்",
    "Nfup":"கேரி",
    "NfuP":"கேரீ",
    "NfuP":"கேரீ",
    "Nqu;":"ஙேர்",
    "Nqup":"ஙேரி",
    "NquP":"ஙேரீ",
    "NquP":"ஙேரீ",
    "Nru;":"சேர்",
    "Nrup":"சேரி",
    "NruP":"சேரீ",
    "NruP":"சேரீ",
    "N[u;":"ஜேர்",
    "N[up":"ஜேரி",
    "N[uP":"ஜேரீ",
    "N[uP":"ஜேரீ",
    "NQu;":"ஞேர்",
    "NQup":"ஞேரி",
    "NQuP":"ஞேரீ",
    "NQuP":"ஞேரீ",
    "Nlu;":"டேர்",
    "Nlup":"டேரி",
    "NluP":"டேரீ",
    "NluP":"டேரீ",
    "Nzu;":"ணேர்",
    "Nzup":"ணேரி",
    "NzuP":"ணேரீ",
    "NzuP":"ணேரீ",
    "Nju;":"தேர்",
    "Njup":"தேரி",
    "NjuP":"தேரீ",
    "NjuP":"தேரீ",
    "Neu;":"நேர்",
    "Neup":"நேரி",
    "NeuP":"நேரீ",
    "Ndu;":"னேர்",
    "Ndup":"னேரி",
    "NduP":"னேரீ",
    "Ngu;":"பேர்",
    "Ngup":"பேரி",
    "NguP":"பேரீ",
    "NguP":"பேரீ",
    "Nku;":"மேர்",
    "Nkup":"மேரி",
    "NkuP":"மேரீ",
    "Nau;":"யேர்",
    "Naup":"யேரி",
    "NauP":"யேரீ",
    "NauP":"யேரீ",
    "Nuu;":"ரேர்",
    "Nuup":"ரேரி",
    "NuuP":"ரேரீ",
    "NuuP":"ரேரீ",
    "Nyu;":"லேர்",
    "Nyup":"லேரி",
    "NyuP":"லேரீ",
    "NyuP":"லேரீ",
    "Nsu;":"ளேர்",
    "Nsup":"ளேரி",
    "NsuP":"ளேரீ",
    "NsuP":"ளேரீ",
    "Ntu;":"வேர்",
    "Ntup":"வேரி",
    "NtuP":"வேரீ",
    "NtuP":"வேரீ",
    "Nou;":"ழேர்",
    "Noup":"ழேரி",
    "NouP":"ழேரீ",
    "NouP":"ழேரீ",
    "Nwu;":"றேர்",
    "Nwup":"றேரி",
    "NwuP":"றேரீ",
    "NwuP":"றேரீ",
    "N`u;":"ஹேர்",
    "N`up":"ஹேரி",
    "N`uP":"ஹேரீ",
    "N`uP":"ஹேரீ",
    "N\\u;":"ஷேர்",
    "N\\up":"ஷேரி",
    "N\\uP":"ஷேரீ",
    "N\\uP":"ஷேரீ",
    "N]u;":"ஸேர்",
    "N]up":"ஸேரி",
    "N]uP":"ஸேரீ",
    "N]uP":"ஸேரீ",
    "Fu;":"குர்",
    "Fup":"குரி",
    "FuP":"குரீ",
    "FuP":"குரீ",
    "*u;":"ஙுர்",
    "*up":"ஙுரி",
    "*uP":"ஙுரீ",
    "*uP":"ஙுரீ",
    "Ru;":"சுர்",
    "Rup":"சுரி",
    "RuP":"சுரீ",
    "RuP":"சுரீ",
    "[{u;":"ஜுர்",
    "[{up":"ஜுரி",
    "[{uP":"ஜுரீ",
    "[{uP":"ஜுரீ",
    "*u;":"ஞுர்",
    "*up":"ஞுரி",
    "*uP":"ஞுரீ",
    "*uP":"ஞுரீ",
    "Lu;":"டுர்",
    "Lup":"டுரி",
    "LuP":"டுரீ",
    "LuP":"டுரீ",
    "Zu;":"ணுர்",
    "Zup":"ணுரி",
    "ZuP":"ணுரீ",
    "ZuP":"ணுரீ",
    "Ju;":"துர்",
    "Jup":"துரி",
    "JuP":"துரீ",
    "JuP":"துரீ",
    "Eu;":"நுர்",
    "Eup":"நுரி",
    "EuP":"நுரீ",
    "EuP":"நுரீ",
    "Du;":"னுர்",
    "Dup":"னுரி",
    "DuP":"னுரீ",
    "DuP":"னுரீ",
    "Gu;":"புர்",
    "Gup":"புரி",
    "GuP":"புரீ",
    "GuP":"புரீ",
    "Ku;":"முர்",
    "Kup":"முரி",
    "KuP":"முரீ",
    "KuP":"முரீ",
    "Au;":"யுர்",
    "Aup":"யுரி",
    "AuP":"யுரீ",
    "AuP":"யுரீ",
    "Uu;":"ருர்",
    "Uup":"ருரி",
    "UuP":"ருரீ",
    "UuP":"ருரீ",
    "Yu;":"லுர்",
    "Yup":"லுரி",
    "YuP":"லுரீ",
    "YuP":"லுரீ",
    "Su;":"ளுர்",
    "Sup":"ளுரி",
    "SuP":"ளுரீ",
    "SuP":"ளுரீ",
    "Tu;":"வுர்",
    "Tup":"வுரி",
    "TuP":"வுரீ",
    "TuP":"வுரீ",
    "Ou;":"ழுர்",
    "Oup":"ழுரி",
    "OuP":"ழுரீ",
    "OuP":"ழுரீ",
    "Wu;":"றுர்",
    "Wup":"றுரி",
    "WuP":"றுரீ",
    "WuP ":"றுரீ"
  };

  static final Map<String, String> unicodeToBaminiDict = {
    for (var entry in baminiDict.entries) entry.value: entry.key
  };

  static String convertToUnicode(String bamini) {
    final converted = StringBuffer();
    int i = 0;
    final length = bamini.length;

    while (i < length) {
      if (bamini[i] == '<') {
        // Handle HTML tag
        int tagEnd = bamini.indexOf('>', i);
        if (tagEnd == -1) {
          // If no closing '>', treat the rest of the string as plain text
          converted.write(bamini.substring(i));
          break;
        }
        // Append the entire HTML tag to the output
        converted.write(bamini.substring(i, tagEnd + 1));
        i = tagEnd + 1;
      } else {
        // Process text outside of HTML tags
        bool found = false;
        for (int j = 4; j > 0; j--) {
          if (i + j <= length) {
            final sub = bamini.substring(i, i + j);
            if (baminiDict.containsKey(sub)) {
              converted.write(baminiDict[sub]);
              i += j;
              found = true;
              break;
            }
          }
        }

        if (!found) {
          converted.write(bamini[i]);
          i++;
        }
      }
    }

    return converted.toString();
  }


  static String convertToBamini(String unicodeStr) {
    final baminiOutput = StringBuffer();
    int i = 0;
    final length = unicodeStr.length;

    while (i < length) {
      bool found = false;
      for (int j = 4; j > 0; j--) {
        if (i + j <= length) {
          final sub = unicodeStr.substring(i, i + j);
          if (unicodeToBaminiDict.containsKey(sub)) {
            baminiOutput.write(unicodeToBaminiDict[sub]);
            i += j;
            found = true;
            break;
          }
        }
      }

      if (!found) {
        baminiOutput.write(unicodeStr[i]);
        i++;
      }
    }

    return baminiOutput.toString();
  }
}